<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Flappy Square</title><style>body{margin:0;padding:0;background:#222;color:#fff;overflow:hidden;font-family:sans-serif;text-align:center}h1{margin:20px 0}#game{background:#000;display:block;margin:0 auto;border:2px solid #fff}</style></head><body><h1>Flappy Square</h1><canvas id="game" width="400" height="600"></canvas><script>const c=document.getElementById("game"),x=c.getContext("2d"),W=c.width,H=c.height;let square={x:50,y:H/2,size:20,gravity:0.4,velocity:0,jump:-7},pipes=[],pipeGap=140,pipeWidth=50,pipeSpeed=2,score=0,gameOver=false;function spawnPipe(){let topH=Math.random()*(H/2)+50,p={x:W,y:0,w:pipeWidth,h:topH,passed:false},p2={x:W,y:topH+pipeGap,w:pipeWidth,h:H-topH-pipeGap,passed:false};pipes.push(p,p2)}function reset(){square.y=H/2;square.velocity=0;score=0;pipes=[];gameOver=false;spawnPipe()}document.addEventListener("keydown",e=>{if(e.key===" "||e.key==="ArrowUp"){if(!gameOver){square.velocity=square.jump}else{reset()}}});function update(){if(gameOver)return;square.velocity+=square.gravity;square.y+=square.velocity;if(square.y+square.size>H||square.y<0){gameOver=true}for(let i=0;i<pipes.length;i++){pipes[i].x-=pipeSpeed;if(!pipes[i].passed&&pipes[i].x+pipes[i].w<square.x){pipes[i].passed=true;score++}if(collide(square.x,square.y,square.size,square.size,pipes[i].x,pipes[i].y,pipes[i].w,pipes[i].h)){gameOver=true}}if(pipes.length>0&&pipes[pipes.length-1].x< W-200){spawnPipe()}if(pipes[0].x+pipes[0].w<0){pipes.splice(0,2)}}function collide(ax,ay,aw,ah,bx,by,bw,bh){return(ax<bx+bw&&ax+aw>bx&&ay<by+bh&&ay+ah>by)}function draw(){x.clearRect(0,0,W,H);x.fillStyle="lime";x.fillRect(square.x,square.y,square.size,square.size);x.fillStyle="cyan";for(let i=0;i<pipes.length;i++){x.fillRect(pipes[i].x,pipes[i].y,pipes[i].w,pipes[i].h)}x.fillStyle="#fff";x.font="20px Arial";x.fillText("Score: "+score,10,30);if(gameOver){x.fillStyle="red";x.font="40px Arial";x.fillText("GAME OVER",W/2-110,H/2-20);x.font="20px Arial";x.fillStyle="white";x.fillText("Press Space to restart",W/2-110,H/2+10)}}function loop(){update();draw();requestAnimationFrame(loop)}spawnPipe();spawnPipe();loop();</script></body></html>
